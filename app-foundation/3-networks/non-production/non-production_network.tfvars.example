/**
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/******************************************
 Tfvars for BoA shared VPC
*****************************************/

environment_code = "npd"

default_region1 = "us-east1"

default_region2 = "us-west1"

nat_enabled = "true"

enable_hub_and_spoke = "true"

enable_hub_and_spoke_transitivity = "true"

/******************************************
 Tfvars for BoA subnets
*****************************************/

subnets = [
  {
    subnet_name               = "mci-config-subnet"
    network_name              = "vpc-npd-shared-base"
    subnet_ip                 = "10.0.128.0/29"
    subnet_region             = "us-east1"
    subnet_flow_logs          = "true"
    subnet_private_access     = "true"
    subnet_flow_logs_metadata = "INCLUDE_ALL_METADATA"
  },
  {
    subnet_name               = "gke-cluster1-subnet"
    network_name              = "vpc-npd-shared-base"
    subnet_ip                 = "10.0.129.0/29"
    subnet_region             = "us-east1"
    subnet_flow_logs          = "true"
    subnet_private_access     = "true"
    subnet_flow_logs_metadata = "INCLUDE_ALL_METADATA"
  },
  {
    subnet_name               = "bastion-host-subnet"
    network_name              = "vpc-npd-shared-base"
    subnet_ip                 = "10.0.130.0/29"
    subnet_region             = "us-west1"
    subnet_flow_logs          = "true"
    subnet_private_access     = "true"
    subnet_flow_logs_metadata = "INCLUDE_ALL_METADATA"
  },
  {
    subnet_name               = "gke-cluster2-subnet"
    network_name              = "vpc-npd-shared-base"
    subnet_ip                 = "10.1.128.0/29"
    subnet_region             = "us-west1"
    subnet_flow_logs          = "true"
    subnet_private_access     = "true"
    subnet_flow_logs_metadata = "INCLUDE_ALL_METADATA"
  },
]

secondary_ranges = {
  mci-config-subnet = [
    {
      range_name    = "pod-ip-range"
      ip_cidr_range = "100.64.128.0/22"
    },
    {
      range_name    = "services-ip-range"
      ip_cidr_range = "100.64.132.0/26"
    }
  ]

  gke-cluster1-subnet = [
    {
      range_name    = "pod-ip-range"
      ip_cidr_range = "100.64.136.0/22"
    },
    {
      range_name    = "services-ip-range"
      ip_cidr_range = "100.64.140.0/26"
    }
  ]

  bastion-host-subnet = []

  gke-cluster2-subnet = [
    {
      range_name    = "pod-ip-range"
      ip_cidr_range = "100.65.128.0/22"
    },
    {
      range_name    = "services-ip-range"
      ip_cidr_range = "100.65.132.0/26"
    }
  ]
}

/******************************************
 Tfvars for Cloud Armor
*****************************************/

policy_name = "cloud-armor-xss-policy"

policy_action = "deny(403)"

policy_priority = "1000"

policy_expression = "evaluatePreconfiguredExpr('xss-stable')"

policy_description = "Cloud Armor policy to prevent cross-site scripting attacks."

/******************************************
 Tfvars for private services address
*****************************************/

private_service_address_name = "cloud-sql-subnet-vpc-peering-internal"

/******************************************
 Tfvars for external IP
*****************************************/

address_name = "mci-ip"

address_type = "EXTERNAL"

description = "External IP address for HTTP load balancing on MCI subnet."
